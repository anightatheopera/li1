<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa5</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Tarefa5</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Nesta tarefa, pretendia-se implementar uma jogada autom&#225;tica para cada um dos fantasmas.</p><p>Para este efeito, na fun&#231;&#227;o principal, testamos a lista de jogadores para 3 casos
1. Se for pacman, nada acontece
2. Se for um ghost que est&#225; vivo, deve devolver uma jogada calculada pela fun&#231;&#227;o chaseMode.
3. Se for um ghost que est&#225; morto deve devolver uma jogada calculada pela fun&#231;&#227;o scatterMode.</p><p>Primeiro, criamos uma fun&#231;&#227;o chamada idealCoords, que tanto para a chaseMode como para a scatterMode vai calcular as coordenadas mais
apropriadas para onde o fantasma se deve deslocar em rela&#231;&#227;o ao pacman.(se alguma das coordenadas indicar uma wall, ser&#225; removida da lista)</p><p>Para ajudar nesta tarefa, criamos o tipo <a href="Mode.html">Mode</a> que pode ser <a href="Catch.html">Catch</a> ou <a href="Run.html">Run</a>(catch para o chase mode e run para o scatter mode)
A idealCoords recebe a orienta&#231;&#227;o do ghost, o modo em que ele est&#225;(Catch ou Run), o labirinto, as coordenadas do Pacman, e a lista de coordenadas
adjacentes &#224;s do Ghost(calculadas pela fun&#231;&#227;o surround), ou seja, as posi&#231;&#245;es para onde &#233; poss&#237;vel este avan&#231;ar no momento.
Faz alguns c&#225;lculos de dist&#226;ncia entre a posi&#231;&#227;o do pacman e as posi&#231;&#245;es para onde o ghost se pode mover, escolhendo a mais pr&#243;xima ou a mais afastada,
tendo em conta se o ghost est&#225; a perseguir ou a fugir.</p><p>Ap&#243;s tudo isto, a fun&#231;&#227;o goTo recebe a posi&#231;&#227;o atual do ghost e a posi&#231;&#227;o escolhida para este se movimentar, transformando isto na orienta&#231;&#227;o que este deve seguir.</p><p>A fun&#231;&#227;o chooseOrient reune estas fun&#231;&#245;es, devolvendo quer &#224; chaseMode como &#224; scatterMode a orienta&#231;&#227;o escolhida.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:ghostPlay">ghostPlay</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</li><li class="src short"><a href="#v:chaseMode">chaseMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:scatterMode">scatterMode</a> :: <a href="Types.html#t:State" title="Types">State</a> -&gt; Int -&gt; <a href="Types.html#t:Play" title="Types">Play</a></li><li class="src short"><a href="#v:chooseOrient">chooseOrient</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Mode" title="Types">Mode</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:idealCoords">idealCoords</a> :: <a href="Types.html#t:Orientation" title="Types">Orientation</a> -&gt; <a href="Types.html#t:Mode" title="Types">Mode</a> -&gt; <a href="Types.html#t:Maze" title="Types">Maze</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>] -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></li><li class="src short"><a href="#v:goTo">goTo</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></li><li class="src short"><a href="#v:surround">surround</a> :: <a href="Types.html#t:Coords" title="Types">Coords</a> -&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:ghostPlay" class="def">ghostPlay</a> <a href="#v:ghostPlay" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado do jogo</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Play" title="Types">Play</a>]</td><td class="doc"><p>Lista de jogadas para cada fantasma</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o principal</p></div></div><div class="top"><p class="src"><a id="v:chaseMode" class="def">chaseMode</a> <a href="#v:chaseMode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado do jogo</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>ID do ghost que vai efetuar a jogada</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada a efetuar</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que indica uma jogada em que o ghost persegue o pacman</p></div></div><div class="top"><p class="src"><a id="v:scatterMode" class="def">scatterMode</a> <a href="#v:scatterMode" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:State" title="Types">State</a></td><td class="doc"><p>Estado do jogo</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>ID do ghost que vai efetuar a jogada</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Play" title="Types">Play</a></td><td class="doc"><p>Jogada a efetuar</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que indica uma jogada em que o ghost foge do pacman</p></div></div><div class="top"><p class="src"><a id="v:chooseOrient" class="def">chooseOrient</a> <a href="#v:chooseOrient" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas do Pacman</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas do Ghost</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o do Ghost</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Mode" title="Types">Mode</a></td><td class="doc"><p>Modo do ghost(fugir/perseguir)</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o que deve ser escolhida</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que dadas as coordenadas do pacman e do ghost que joga, escolhe a melhor orienta&#231;&#227;o
 para o &#250;ltimo tomar na sua jogada usando as fun&#231;&#245;es a baixo</p></div></div><div class="top"><p class="src"><a id="v:idealCoords" class="def">idealCoords</a> <a href="#v:idealCoords" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o do ghost</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Mode" title="Types">Mode</a></td><td class="doc"><p>Modo do ghost(fugir/perseguir)</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Maze" title="Types">Maze</a></td><td class="doc"><p>Labirinto</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas do Pacman</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</td><td class="doc"><p>Lista de coordenadas adjacentes &#224;s da posi&#231;&#227;o do ghost</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas para onde o ghost se deve dirigir</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que calcula em que dire&#231;&#227;o o fantasma se encontra mais pr&#243;ximo ou afastado do pacman
 dependendo se quer persegui-lo, ou fugir dele. Para essa diferencia&#231;&#227;o, temos o tipo Mode
 que pode ser Catch ou Run</p></div></div><div class="top"><p class="src"><a id="v:goTo" class="def">goTo</a> <a href="#v:goTo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas originais</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas para onde se pretende ir</p></td></tr><tr><td class="src">-&gt; <a href="Types.html#t:Orientation" title="Types">Orientation</a></td><td class="doc"><p>Orienta&#231;&#227;o que deve ser escolhida</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que converte as coordenadas pretendidas na orienta&#231;&#227;o que deve ser tomada para l&#225; chegar</p></div></div><div class="top"><p class="src"><a id="v:surround" class="def">surround</a> <a href="#v:surround" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Types.html#t:Coords" title="Types">Coords</a></td><td class="doc"><p>Coordenadas originais</p></td></tr><tr><td class="src">-&gt; [<a href="Types.html#t:Coords" title="Types">Coords</a>]</td><td class="doc"><p>Lista de coordenadas adjacentes</p></td></tr></table></div><div class="doc"><p>Fun&#231;&#227;o que dadas umas coordenadas devolve a lista de todas as coordenadas adjacentes
 para qualquer orienta&#231;&#227;o</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.0</p></div></body></html>